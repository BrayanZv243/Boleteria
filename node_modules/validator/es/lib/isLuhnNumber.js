import assertString from './util/assertString';
export default function isLuhnNumber(str) {
  assertString(str);
  var sanitized = str.replace(/[- ]+/g, '');
  var sum = 0;
  var digit;
  var tmpNum;
  var shouldDouble;
<<<<<<< HEAD
  for (var i = sanitized.length - 1; i >= 0; i--) {
    digit = sanitized.substring(i, i + 1);
    tmpNum = parseInt(digit, 10);
    if (shouldDouble) {
      tmpNum *= 2;
=======

  for (var i = sanitized.length - 1; i >= 0; i--) {
    digit = sanitized.substring(i, i + 1);
    tmpNum = parseInt(digit, 10);

    if (shouldDouble) {
      tmpNum *= 2;

>>>>>>> 96a33e777f461d23705a92babb66d2399584c38c
      if (tmpNum >= 10) {
        sum += tmpNum % 10 + 1;
      } else {
        sum += tmpNum;
      }
    } else {
      sum += tmpNum;
    }
<<<<<<< HEAD
    shouldDouble = !shouldDouble;
  }
=======

    shouldDouble = !shouldDouble;
  }

>>>>>>> 96a33e777f461d23705a92babb66d2399584c38c
  return !!(sum % 10 === 0 ? sanitized : false);
}